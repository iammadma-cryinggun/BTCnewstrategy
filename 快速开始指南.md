# 快速开始指南

**版本**: v2.0 基于验证5逻辑
**更新**: 2026-01-22

---

## 🚀 三步开始

### 第1步: 测试系统

```bash
cd D:\机器人\btc_4hour_alert
python test_verification5.py
```

**预期输出**:
```
[OK] 成功获取 100 条BTC数据
   最新价格: $90,023
[OK] 成功获取 16 条DXY数据
   最新DXY: 120.45
[OK] 物理指标计算成功
   张力: -1.0050
   加速度: 0.088558
[OK] 市场状态诊断完成
   信号类型: BULLISH_SINGULARITY
[SUCCESS] 所有测试通过！
```

---

### 第2步: 启动数据收集

```bash
python deploy_collector_验证5.py
```

**功能**:
- 每4小时自动收集数据
- 保存到 `realtime_data_验证5.csv`
- 后台持续运行

**输出示例**:
```
[数据收集完成]
  BTC价格: $90,023
  张力: -1.0050
  加速度: 0.088558
  DXY燃料: -0.04
  信号类型: BULLISH_SINGULARITY
```

---

### 第3步: 启动实盘交易

```bash
python v80_live_verification5.py
```

**功能**:
- 每5分钟检查信号
- 自动开仓/平仓
- 风险管理

**输出示例**:
```
[第3层 交易决策]
  动作: SHORT
  仓位: 100%
  理由: BULLISH_SINGULARITY → 反向做空 (逃顶)

✅ 开仓执行:
   方向: SHORT
   价格: $90,023
   仓位: $6,667
   止损: $92,724 (+3%)
   止盈: $81,021 (-10%)
```

---

## 📊 完整逻辑流程

```
数据获取 (BTC + DXY)
    ↓
FFT滤波 + Hilbert变换
    ↓
计算张力 & 加速度
    ↓
诊断市场状态
    ↓
V8.0反向策略决策
    ↓
自动开仓/平仓
    ↓
风险管理 (止损/止盈)
```

---

## 🎯 核心策略

### V8.0反向策略

**原理**: "系统看空我做多，系统看涨我做空"

| 系统信号 | 我们的行动 | 理由 |
|---------|-----------|------|
| BEARISH_SINGULARITY (奇点看空) | LONG (做多) | 反向抄底 |
| BULLISH_SINGULARITY (奇点看涨) | SHORT (做空) | 反向逃顶 |
| OSCILLATION (震荡) | WAIT (观望) | 避免震荡 |

### 物理指标

**张力** (FFT + Hilbert):
- 衡量价格偏离趋势的程度
- 标准化后的Hilbert变换虚部

**加速度** (关键!):
- ❌ 错误: 价格变化率的变化率
- ✅ 正确: 张力的二阶差分
- 捕捉市场动量的突变

**DXY燃料**:
- 捕捉美元指数变化动量
- 增强信号置信度

---

## 📁 文件说明

### 程序文件

| 文件 | 用途 | 运行方式 |
|------|------|---------|
| `test_verification5.py` | 测试系统 | `python test_verification5.py` |
| `deploy_collector_验证5.py` | 数据收集 | `python deploy_collector_验证5.py` |
| `v80_live_verification5.py` | 实盘交易 | `python v80_live_verification5.py` |

### 数据文件

| 文件 | 内容 | 更新频率 |
|------|------|---------|
| `realtime_data_验证5.csv` | 市场数据收集 | 每4小时 |
| `live_trading_验证5逻辑.csv` | 实盘交易日志 | 每次交易 |

### 文档文件

| 文件 | 内容 |
|------|------|
| `完整交易逻辑总结_验证5.md` | 详细逻辑说明 |
| `部署完成_验证5版本.md` | 部署指南 |
| `快速开始指南.md` | 本文档 |

---

## ⚙️ 配置参数

### 修改账户设置

编辑 `v80_live_verification5.py`:

```python
engine = LiveTradingEngine(
    account_balance=10000,      # 账户余额 (USD)
    risk_per_trade=0.02         # 单笔风险 (2%)
)
```

### 修改运行间隔

```python
engine.run(interval_seconds=300)  # 300秒 = 5分钟
```

### 修改风险控制

```python
# 在 execute_trade 方法中
'stop_loss': price * 0.97,    # 止损 -3%
'take_profit': price * 1.10,  # 止盈 +10%
```

---

## 📊 实时监控

### 查看数据收集

```bash
# Windows
type realtime_data_验证5.csv

# 或在Excel中打开
```

### 查看交易日志

```bash
# Windows
type live_trading_验证5逻辑.csv

# 或在Excel中打开
```

---

## ⚠️ 风险提示

1. **先用小资金测试**
   - 建议起始资金: 1-5%账户
   - 观察至少1个月
   - 确认系统稳定后再加大

2. **不保证盈利**
   - 历史表现不代表未来
   - 市场可能发生极端情况
   - 只投入你能承受损失的资金

3. **持续监控**
   - 定期检查交易日志
   - 监控账户余额
   - 及时调整参数

---

## 🆘 常见问题

### Q1: 如何停止系统?

**A**: 按 `Ctrl+C`

### Q2: 没有信号触发正常吗?

**A**: 正常。系统只在明确信号时交易 (置信度>=60%)。市场平稳时不会交易。

### Q3: 可以同时运行多个程序吗?

**A**: 可以。
```bash
# 终端1: 数据收集
python deploy_collector_验证5.py

# 终端2: 实盘交易
python v80_live_verification5.py
```

### Q4: 数据收集失败怎么办?

**A**: 检查网络连接。如果无法访问Binance或FRED，系统会显示错误信息。

### Q5: 如何修改交易参数?

**A**: 编辑 `v80_live_verification5.py` 文件中的相关参数，然后重启程序。

---

## 📈 预期表现

### 回测数据 (基于验证5逻辑)

- 年化回报: ~35-45%
- 最大回撤: ~20%
- 胜率: ~55-60%
- 盈亏比: ~1.8:1

### 实盘注意事项

⚠️ **实盘可能不同于模拟**
- 滑点可能更大
- 成交可能不理想
- 需要考虑交易手续费

---

## 📞 获取帮助

### 查看详细文档

```bash
# 完整逻辑说明
阅读 完整交易逻辑总结_验证5.md

# 部署指南
阅读 部署完成_验证5版本.md
```

### 检查日志

```bash
# 查看数据收集日志
type realtime_data_验证5.csv

# 查看交易日志
type live_trading_验证5逻辑.csv
```

---

## ✅ 检查清单

在启动实盘交易前，请确认:

- [ ] 已阅读并理解完整交易逻辑
- [ ] 已运行测试并全部通过
- [ ] 已配置账户余额和风险参数
- [ ] 已设置止损止盈
- [ ] 已使用小资金测试
- [ ] 已了解风险提示
- [ ] 已准备好监控交易

---

**开始你的量化交易之旅吧！** 🚀

---

**最后更新**: 2026-01-22
**版本**: v2.0
**状态**: ✅ 已测试，可使用
