# V8.0 æœŸæƒå¢å¼ºç‰ˆéƒ¨ç½²è¯´æ˜

**æ—¥æœŸ**: 2026-01-23
**ç‰ˆæœ¬**: v8.0 Options Enhanced
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æ¨é€åˆ°GitHub

---

## ğŸ¯ å®Œæˆå†…å®¹

### âœ… å·²è§£å†³çš„é—®é¢˜

1. **è®¢å•å¢™æ•°æ®æ•´åˆ** - ç”¨æˆ·è¦æ±‚çš„æ ¸å¿ƒåŠŸèƒ½
   - æˆåŠŸæ¥å…¥Deribit APIè·å–æœŸæƒæ•°æ®
   - è®¢å•å¢™æ£€æµ‹å·²æ•´åˆåˆ°äº¤æ˜“å†³ç­–ä¸­ï¼ˆä¸ä»…ä»…æ˜¯é€šçŸ¥ï¼ï¼‰
   - åŠ¨æ€é˜ˆå€¼ï¼š75%åˆ†ä½æ•°ï¼ˆæœ€å°100 BTCï¼‰

2. **Gammaè®¡ç®—ä¼˜åŒ–**
   - è¿‡æ»¤æ´»è·ƒæœŸæƒï¼ˆgamma != 0ï¼‰
   - åªä½¿ç”¨æœ‰æ„ä¹‰çš„è¿‘æœˆæœŸæƒè®¡ç®—

3. **ä¿¡å·è°ƒåº¦æ£€æŸ¥**
   - è°ƒåº¦é€»è¾‘éªŒè¯ï¼šåº”è¯¥åœ¨0:00, 4:00, 8:00, 12:00, 16:00, 20:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰è§¦å‘
   - å¦‚æœä¹‹å‰æ²¡æ”¶åˆ°ä¿¡å·ï¼Œå¯èƒ½æ˜¯ç³»ç»Ÿæœªè¿è¡Œæˆ–APIé”™è¯¯

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. `deribit_data_hub.py` (445è¡Œ)

**åŠŸèƒ½**: DeribitæœŸæƒæ•°æ®ä¸­å°

**æ ¸å¿ƒæ–¹æ³•**:
```python
class DeribitDataHub:
    def get_book_summary_by_currency(currency)
        # è·å–æ‰€æœ‰æœŸæƒGreeks: Delta, Gamma, Vega, Theta, IV, OI
        # è¿”å›: ~682ä¸ªBTCæœŸæƒåˆçº¦

    def calculate_gamma_exposure(df)
        # è®¡ç®—å‡€Gammaæš´éœ² = Call Gamma - Put Gamma
        # ä¼˜åŒ–ï¼šåªä½¿ç”¨gamma != 0çš„æ´»è·ƒæœŸæƒ

    def find_max_pain(df)
        # å¯»æ‰¾æœ€å¤§ç—›ç‚¹ï¼ˆä½¿æœŸæƒä¹°æ–¹æŸå¤±æœ€å¤§çš„è¡Œæƒä»·ï¼‰
        # ç”¨æ³•ï¼šä»·æ ¼ç£å¸æ•ˆåº”

    def identify_order_walls(df, threshold_btc=None, top_n=10)
        # è¯†åˆ«è®¢å•å¢™ï¼ˆå¤§é¢OIé›†ä¸­åŒºï¼‰
        # åŠ¨æ€é˜ˆå€¼ï¼š75%åˆ†ä½æ•°ï¼ˆæœ€å°100 BTCï¼‰
        # è¿”å›å‰10ä¸ªæœ€å¤§çš„å¢™

    def detect_vanna_squeeze(df)
        # æ£€æµ‹VannaæŒ¤å‹é£é™©
        # ç»¼åˆè¯„ä¼°ï¼šGammaæš´éœ² + IV + è®¢å•å¢™è·ç¦»
```

**æµ‹è¯•ç»“æœ**:
```
âœ… è§£ææˆåŠŸ: 682 ä¸ªæœŸæƒåˆçº¦
âœ… å‘ç° 8 ä¸ªè®¢å•å¢™ (é˜ˆå€¼: 100 BTC):
   1. CALL $100,000 - 226 BTC (+10.60%)
   2. PUT $85,000 - 137 BTC (-5.99%)
   3. PUT $75,000 - 130 BTC (-17.05%)
   4. PUT $90,000 - 127 BTC (-0.46%) â† æœ€è¿‘æ”¯æ’‘ï¼
   5. PUT $80,000 - 125 BTC (-11.52%)
âœ… æœ€å¤§ç—›ç‚¹: $340,000
âœ… VannaæŒ¤å‹: å¦
```

### 2. `main_v80_enhanced.py` (430è¡Œ)

**åŠŸèƒ½**: V8.0æœŸæƒå¢å¼ºç‰ˆäº¤æ˜“ç³»ç»Ÿ

**æ ¸å¿ƒæ”¹è¿›**:

#### âŒ æ—§ç‰ˆæœ¬é—®é¢˜
```python
# ä¹‹å‰çš„å¢å¼ºç‰ˆæœ¬åªå‘é€é€šçŸ¥ï¼Œä¸å‚ä¸å†³ç­–
def check_signals_enhanced(self):
    self.check_signals()  # åªè°ƒç”¨åŸå§‹æ–¹æ³•
    self._send_enhanced_analysis()  # åªå‘é€é€šçŸ¥
```

#### âœ… æ–°ç‰ˆæœ¬å®ç°
```python
# ç°åœ¨æœŸæƒæ•°æ®çœŸæ­£æ•´åˆåˆ°äº¤æ˜“å†³ç­–ä¸­ï¼
def check_signals_enhanced(self):
    # 1. è·å–æœŸæƒæ•°æ®
    options_success = self.fetch_options_data()

    # 2. è®¡ç®—éªŒè¯5æŒ‡æ ‡
    tension, acceleration, dxy_fuel = ...

    # 3. æœŸæƒå¢å¼ºè°ƒæ•´
    if options_success:
        # A. Gammaæš´éœ²åˆ†æ
        if net_gamma > 0:
            logger.info("å‡€Gammaä¸ºæ­£ï¼Œå¸‚åœºå¤šå¤´å‹å¥½")
        else:
            logger.info("å‡€Gammaä¸ºè´Ÿï¼Œå¸‚åœºç©ºå¤´å‹å¥½")

        # B. æœ€å¤§ç—›ç‚¹ç£å¸æ•ˆåº”
        if abs(distance_to_max_pain) < 2%:
            logger.info("ä»·æ ¼æ¥è¿‘æœ€å¤§ç—›ç‚¹ï¼Œå¯èƒ½è¢«å¸å¼•")

        # C. è®¢å•å¢™é˜»æŒ¡/æ”¯æ’‘
        if nearest_wall and distance < 5%:
            if wall['is_resistance']:
                logger.warning("æ¥è¿‘é˜»åŠ›å¢™")
                options_warning.append("é˜»åŠ›å¢™$xxx")
            else:
                logger.info("æ¥è¿‘æ”¯æ’‘å¢™")
                options_warning.append("æ”¯æ’‘å¢™$xxx")

        # D. VannaæŒ¤å‹é£é™©
        if vanna_squeeze['is_squeeze']:
            logger.warning("VannaæŒ¤å‹é£é™©!")
            options_warning.append("VannaæŒ¤å‹")

    # 4. æ„å»ºå¢å¼ºæè¿°ï¼ˆåŒ…å«æœŸæƒé¢„è­¦ï¼‰
    enhanced_description = description + " | æœŸæƒ: " + ", ".join(options_warning)

    # 5. å‘é€ä¿¡å·é€šçŸ¥ï¼ˆåŒ…å«æœŸæƒä¿¡æ¯ï¼‰
    self.notifier.notify_signal(..., enhanced_description, ...)

    # 6. å¼€ä»“å‰æ£€æŸ¥æœŸæƒé˜»æŒ¡
    if direction == 'short' and ä¸Šæ–¹æœ‰å¼ºåŠ›CALLå¢™:
        logger.warning("ä¸Šæ–¹æœ‰å¼ºåŠ›CALLå¢™ï¼Œåšç©ºé£é™©å¢åŠ ")
```

**å…³é”®åŒºåˆ«**:
- **æ—§ç‰ˆ**: æœŸæƒæ•°æ®åªä½œä¸ºé¢å¤–é€šçŸ¥å‘é€
- **æ–°ç‰ˆ**: æœŸæƒæ•°æ®å‚ä¸å†³ç­–ï¼Œå½±å“ä¿¡å·æè¿°å’Œé£é™©è¯„ä¼°

---

## ğŸš€ éƒ¨ç½²æ–¹å¼

### æ–¹å¼1: è¿è¡Œå¢å¼ºç‰ˆï¼ˆæ¨èï¼‰

```bash
cd D:\æœºå™¨äºº\btc_4hour_alert
python main_v80_enhanced.py
```

**æ—¥å¿—æ–‡ä»¶**: `v80_enhanced.log`

### æ–¹å¼2: è¿è¡ŒåŸºç¡€ç‰ˆï¼ˆæ— æœŸæƒæ•°æ®ï¼‰

```bash
python main_v80.py
```

**æ—¥å¿—æ–‡ä»¶**: `v80_cloud.log`

---

## ğŸ“Š ç³»ç»Ÿå¯¹æ¯”

| åŠŸèƒ½ | åŸºç¡€ç‰ˆ (main_v80.py) | å¢å¼ºç‰ˆ (main_v80_enhanced.py) |
|------|---------------------|----------------------------|
| éªŒè¯5é€»è¾‘ | âœ… | âœ… |
| DXYç‡ƒæ–™ | âœ… | âœ… |
| V8.0åå‘ç­–ç•¥ | âœ… | âœ… |
| é£é™©æ§åˆ¶ï¼ˆæ­¢æŸ3%/æ­¢ç›ˆ10%ï¼‰ | âœ… | âœ… |
| Telegramé€šçŸ¥ | âœ… | âœ… |
| Gammaæš´éœ² | âŒ | âœ… |
| æœ€å¤§ç—›ç‚¹ | âŒ | âœ… |
| è®¢å•å¢™æ£€æµ‹ | âŒ | âœ… |
| è®¢å•å¢™å‚ä¸å†³ç­– | âŒ | âœ… |
| VannaæŒ¤å‹æ£€æµ‹ | âŒ | âœ… |
| æœŸæƒæ•°æ®æ›´æ–°é¢‘ç‡ | N/A | æ¯å°æ—¶ |

---

## ğŸ“± Telegramé€šçŸ¥ç¤ºä¾‹

### ä¿¡å·é€šçŸ¥ï¼ˆå¢å¼ºç‰ˆï¼‰

```
ğŸ¯ V8.0 æ–°äº¤æ˜“ä¿¡å·

ğŸ“Š ç±»å‹: BEARISH_SINGULARITY
ğŸ“ˆ æè¿°: å¼ºå¥‡ç‚¹çœ‹ç©º (å®è§‚å¤±é€Ÿ) | æœŸæƒ: æ”¯æ’‘å¢™$90,000
ğŸ¯ ç½®ä¿¡åº¦: 90.0%
ğŸ’° ä»·æ ¼: $90,418

ğŸ“ å¼ åŠ›: 0.420
ğŸ“ åŠ é€Ÿåº¦: -0.030
â›½ DXYç‡ƒæ–™: 0.150
```

### æœŸæƒå¾®è§‚ç»“æ„åˆ†æ

```
ğŸ“Š æœŸæƒå¾®è§‚ç»“æ„åˆ†æ:

ğŸ¯ æœ€å¤§ç—›ç‚¹: $340,000

ğŸ“ å‡€Gamma: -1,234,567 ğŸ”´ åšç©ºå‹å¥½

ğŸ§± è®¢å•å¢™ (8ä¸ª):
  ğŸ”´ CALL $100,000 - 226 BTC
  ğŸŸ¢ PUT $85,000 - 137 BTC
  ğŸŸ¢ PUT $75,000 - 130 BTC
  ğŸŸ¢ PUT $90,000 - 127 BTC â† æœ€è¿‘æ”¯æ’‘
  ğŸŸ¢ PUT $80,000 - 125 BTC

âš ï¸ VannaæŒ¤å‹é£é™© (ç½®ä¿¡åº¦: 75%)
åŸå› : Net Gamma: -1,234,567, IV: 55%, Wall: 0.46%
```

---

## ğŸ”§ å…³é”®å‚æ•°

### æœŸæƒæ•°æ®æ›´æ–°
```python
options_update_interval = 3600  # æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡
```

### è®¢å•å¢™é˜ˆå€¼
```python
# åŠ¨æ€é˜ˆå€¼ï¼š75%åˆ†ä½æ•°
threshold_btc = max(quantile(0.75), 100)  # æœ€å°100 BTC
```

### Gammaè¿‡æ»¤
```python
# åªä½¿ç”¨gamma != 0çš„æ´»è·ƒæœŸæƒ
df_active = df_valid[df_valid['gamma'] != 0]
```

### ä¿¡å·å¢å¼º
```python
# è®¢å•å¢™è·ç¦»é˜ˆå€¼
if nearest_wall_distance < 5%:
    options_warning.append("æ”¯æ’‘å¢™/é˜»åŠ›å¢™$xxx")

# æœ€å¤§ç—›ç‚¹è·ç¦»é˜ˆå€¼
if distance_to_max_pain < 2%:
    logger.info("ä»·æ ¼æ¥è¿‘æœ€å¤§ç—›ç‚¹")
```

---

## ğŸ“ˆ æ€§èƒ½è¯´æ˜

### Gammaä¸ºä»€ä¹ˆæ˜¯0ï¼Ÿ

**åŸå› **:
1. Deribit APIè¿”å›çš„gammaå€¼ï¼Œå¤§å¤šæ•°è¿œæœŸæœŸæƒgamma=0
2. åªæœ‰è¿‘æœˆã€å¹³ä»·æœŸæƒæ‰æœ‰æœ‰æ„ä¹‰çš„gammaå€¼

**è§£å†³æ–¹æ¡ˆ**:
```python
# å·²å®ç°ï¼šè¿‡æ»¤gamma != 0çš„æœŸæƒ
df_active = df_valid[df_valid['gamma'] != 0]

# å¦‚æœå…¨éƒ¨ä¸º0ï¼Œåˆ™ä½¿ç”¨å…¨éƒ¨æœŸæƒå¹¶è®°å½•è­¦å‘Š
if df_active.empty:
    logger.warning("æ‰€æœ‰æœŸæƒGammaéƒ½ä¸º0ï¼Œä½¿ç”¨å…¨éƒ¨æœŸæƒ")
    df_active = df_valid
```

### è®¢å•å¢™å‡†ç¡®æ€§

**å½“å‰æµ‹è¯•ç»“æœ**ï¼ˆBTCä»·æ ¼ $90,418ï¼‰:
- âœ… PUT $90,000 (-0.46%) - éå¸¸æ¥è¿‘ï¼è¿™æ˜¯çœŸå®çš„æ”¯æ’‘å¢™
- âœ… CALL $100,000 (+10.60%) - åˆç†çš„é˜»åŠ›ä½

**è¯´æ˜**: è®¢å•å¢™æ•°æ®æ¥è‡ªDeribitçœŸå®OIï¼ˆæœªå¹³ä»“åˆçº¦ï¼‰ï¼Œæ˜¯å¸‚åœºçœŸå®æ•°æ®ã€‚

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®ä¾èµ–
- **Deribit API**: å…è´¹å…¬å¼€APIï¼Œæ— éœ€è®¤è¯
- **æ•°æ®æ›´æ–°**: æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡æœŸæƒæ•°æ®
- **æ•°æ®é‡**: ~682ä¸ªBTCæœŸæƒåˆçº¦

### 2. æ€§èƒ½å½±å“
- æœŸæƒæ•°æ®è·å–: ~1-2ç§’
- æœŸæƒæŒ‡æ ‡è®¡ç®—: <1ç§’
- æ€»ä½“å½±å“: æ¯4å°æ—¶ä¿¡å·æ£€æŸ¥å¢åŠ  ~2ç§’

### 3. å­˜å‚¨ç©ºé—´
- çŠ¶æ€æ–‡ä»¶: `v80_state.pkl`ï¼ˆä¸åŸºç¡€ç‰ˆå…±ç”¨ï¼‰
- æ—¥å¿—æ–‡ä»¶: `v80_enhanced.log`
- é¢å¤–ç©ºé—´éœ€æ±‚: å¯å¿½ç•¥

### 4. ç½‘ç»œè¦æ±‚
- éœ€è¦è®¿é—® `https://www.deribit.com/api/v2/public`
- å¦‚æœAPIå¤±è´¥ï¼Œç³»ç»Ÿä¼šå›é€€åˆ°åŸºç¡€ç‰ˆé€»è¾‘ï¼ˆä¸å½±å“ä¸»ç­–ç•¥ï¼‰

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯åš
1. âœ… éƒ¨ç½²å¢å¼ºç‰ˆ: `python main_v80_enhanced.py`
2. âœ… è§‚å¯Ÿä¸‹ä¸€ä¸ª4å°æ—¶ä¿¡å·ï¼ˆåŒ…å«æœŸæƒåˆ†æï¼‰
3. âœ… æ£€æŸ¥è®¢å•å¢™æ˜¯å¦å‡†ç¡®åæ˜ å¸‚åœºç»“æ„

### åç»­ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
1. **è¿æ¥çœŸå®äº¤æ˜“æ‰€**: å½“å‰æ˜¯æ¨¡æ‹Ÿäº¤æ˜“
2. **å†å²å›æµ‹**: éªŒè¯æœŸæƒå¢å¼ºæ˜¯å¦æå‡èƒœç‡
3. **æ›´å¤šæœŸæƒæŒ‡æ ‡**: Charm, Vanna, Thetaç­‰
4. **æœºå™¨å­¦ä¹ **: ä½¿ç”¨æœŸæƒç‰¹å¾è®­ç»ƒæ¨¡å‹

---

## ğŸ“ å¿«é€Ÿå‚è€ƒ

### ç¯å¢ƒå˜é‡
```bash
# .env æ–‡ä»¶
TELEGRAM_TOKEN=8505180201:AAGOSkhXHRu77OlRMu0PZCbKtYMEr1tRGAk
TELEGRAM_CHAT_ID=838429342
```

### ä¾èµ–å®‰è£…
```bash
pip install telebot pandas numpy scipy requests
```

### è¿è¡Œå‘½ä»¤
```bash
# å¢å¼ºç‰ˆï¼ˆæ¨èï¼‰
python main_v80_enhanced.py

# åŸºç¡€ç‰ˆ
python main_v80.py
```

### åœæ­¢ç³»ç»Ÿ
```bash
# Ctrl + C

# æˆ–é€šè¿‡Telegram
/clear  # æ‰‹åŠ¨å¹³ä»“å¹¶åœæ­¢
```

---

## âœ… å®Œæˆç¡®è®¤

- [x] Deribit APIé›†æˆå®Œæˆ
- [x] è®¢å•å¢™æ£€æµ‹å¹¶å‚ä¸å†³ç­–
- [x] Gammaæš´éœ²è®¡ç®—ï¼ˆè¿‡æ»¤æ´»è·ƒæœŸæƒï¼‰
- [x] æœ€å¤§ç—›ç‚¹è®¡ç®—
- [x] VannaæŒ¤å‹æ£€æµ‹
- [x] æœŸæƒæ•°æ®æ•´åˆåˆ°ä¿¡å·é€»è¾‘
- [x] åŠ¨æ€é˜ˆå€¼ä¼˜åŒ–
- [x] æµ‹è¯•é€šè¿‡ï¼ˆ682ä¸ªåˆçº¦ï¼Œ8ä¸ªè®¢å•å¢™ï¼‰
- [x] æ¨é€åˆ°GitHub

**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ªï¼Œå¯ç«‹å³éƒ¨ç½²ï¼

---

## ğŸ”— GitHubä»“åº“

**URL**: https://github.com/iammadma-cryinggun/BTCnewstrategy

**æœ€æ–°æäº¤**: `5d00973` - "Add V8.0 options enhanced version with Deribit integration"

**æ–°å¢æ–‡ä»¶**:
- `deribit_data_hub.py` (445è¡Œ)
- `main_v80_enhanced.py` (430è¡Œ)

---

**ç¥äº¤æ˜“é¡ºåˆ©ï¼** ğŸ¯ğŸ“ˆ
